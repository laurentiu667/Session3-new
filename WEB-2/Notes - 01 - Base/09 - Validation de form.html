<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>Validation de formulaire</title>
		<meta charset="utf-8"/>
	</head>
	<body>
		<script>
			const validate = () => {


				let cityNode = document.getElementById("city");
				let cityValue = cityNode.value;
				// regrouper toutes les erreures faite dans le input du clien
				let errors = []
				// si le string enter est moisn que deux char
				if (cityValue.length < 2){
					errors.push("Ville trop courte")
				}
				// si c est a 0 est plus donc >=

				if (cityValue.match(/^[a-z\sA-Z]*$/))
				if (cityValue.indexOf("1") >= 0 ) {
					
					errors.push("La ville ne doit pas contenir de 1")
				}

				if (errors.length > 0){
					
					let message = "Vous avez des erreurs : ";
					errors.forEach(err => {
						message += "\n - " + err;
					} )
					alert(message);
				}
				//si le champ est invalide
				// success

				// si il n y a pas de erreur bah c a fait true et s il y en c  est  false
				return errors.length == 0;
			}
		</script>

		<form action="" method="get" onsubmit=" return validate()">
			<input type="text" name="cityName" id="city" placeholder="Nom d'une ville">
			<button type="submit">Rechercher</button>
		</form>
	</body>
</html>